<%# locals: (url: "#", active: false, title: nil, subtitle: nil, icon: nil, text_icon: nil, icon_classes: "", css_classes: "", **html_options) %>
<% merged_data = (html_options.delete(:data) || {}).merge(
    sidebar_part: "menu-link",
    active: active
  ) %>

<%= link_to url, class: css_classes, data: merged_data, **html_options do %>
  <% if icon.present? || text_icon.present? %>
    <div data-sidebar-part="menu-avatar">
      <% if icon.present? %>
        <%= image_tag icon, class: icon_classes %>
      <% elsif text_icon.present? %>
        <span class="<%= icon_classes %>"><%= text_icon %></span>
      <% end %>
    </div>
  <% end %>

  <% if title.present? || subtitle.present? %>
    <div
      class="flex flex-col gap-0.5 leading-none"
      data-sidebar-hide-on-collapse
    >
      <% if title.present? %>
        <span class="font-medium"><%= title %></span>
      <% end %>

      <% if subtitle.present? %>
        <span class="text-xs text-sidebar-foreground/70"><%= subtitle %></span>
      <% end %>
    </div>
  <% end %>
<% end %>
